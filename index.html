<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Anor AI ‚Äî To'lov</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: var(--tg-theme-bg-color, #fff);
  color: var(--tg-theme-text-color, #1a1a1a);
  padding: 16px; min-height: 100vh;
}
h2 { font-size: 20px; margin-bottom: 12px; text-align: center; }
.subtitle { text-align: center; color: var(--tg-theme-hint-color, #888); font-size: 13px; margin-bottom: 20px; }

/* TABS */
.tabs { display: flex; gap: 6px; margin-bottom: 16px; }
.tab {
  flex: 1; padding: 10px 4px; border: none; border-radius: 10px;
  font-size: 13px; font-weight: 600; cursor: pointer;
  background: var(--tg-theme-secondary-bg-color, #f0f0f0);
  color: var(--tg-theme-text-color, #333);
}
.tab.active {
  background: var(--tg-theme-button-color, #3390ec);
  color: var(--tg-theme-button-text-color, #fff);
}

/* CARDS */
.card {
  background: var(--tg-theme-secondary-bg-color, #f5f5f5);
  border-radius: 14px; padding: 16px; margin-bottom: 10px;
  cursor: pointer; border: 2px solid transparent;
  transition: all 0.2s;
}
.card.selected { border-color: var(--tg-theme-button-color, #3390ec); }
.card-top { display: flex; justify-content: space-between; align-items: center; }
.card-name { font-weight: 700; font-size: 16px; }
.card-price { font-weight: 700; font-size: 15px; color: var(--tg-theme-button-color, #3390ec); }
.card-desc { font-size: 12px; color: var(--tg-theme-hint-color, #888); margin-top: 6px; line-height: 1.4; }
.badge { display: inline-block; font-size: 10px; font-weight: 700; padding: 2px 6px; border-radius: 6px; margin-left: 6px; }
.badge-pop { background: #ff6b35; color: #fff; }
.badge-save { background: #10b981; color: #fff; }

/* PAYMENT METHOD */
.method-section { margin: 20px 0 12px; }
.method-label { font-size: 13px; font-weight: 600; margin-bottom: 8px; }
.methods { display: flex; gap: 8px; }
.method-btn {
  flex: 1; padding: 12px 8px; border: 2px solid var(--tg-theme-secondary-bg-color, #e0e0e0);
  border-radius: 10px; background: var(--tg-theme-bg-color, #fff);
  font-size: 13px; font-weight: 600; cursor: pointer; text-align: center;
  color: var(--tg-theme-text-color, #333);
}
.method-btn.active {
  border-color: var(--tg-theme-button-color, #3390ec);
  background: var(--tg-theme-button-color, #3390ec);
  color: var(--tg-theme-button-text-color, #fff);
}

/* CARD INFO */
.card-info {
  background: var(--tg-theme-secondary-bg-color, #f5f5f5);
  border-radius: 12px; padding: 16px; margin: 16px 0;
  text-align: center;
}
.card-number {
  font-size: 20px; font-weight: 700; letter-spacing: 2px;
  font-family: 'Courier New', monospace;
  padding: 8px 0; cursor: pointer;
}
.card-owner { font-size: 13px; color: var(--tg-theme-hint-color, #888); }
.copy-hint { font-size: 11px; color: var(--tg-theme-link-color, #3390ec); margin-top: 4px; }

/* BOTTOM */
.pay-btn {
  width: 100%; padding: 16px; border: none; border-radius: 12px;
  font-size: 16px; font-weight: 700; cursor: pointer;
  background: var(--tg-theme-button-color, #3390ec);
  color: var(--tg-theme-button-text-color, #fff);
  margin-top: 12px;
}
.pay-btn:disabled { opacity: 0.5; cursor: not-allowed; }
.note { text-align: center; font-size: 11px; color: var(--tg-theme-hint-color, #999); margin-top: 8px; }

/* VIDEO INFO */
.video-info {
  background: linear-gradient(135deg, rgba(99,102,241,0.1), rgba(168,85,247,0.1));
  border-radius: 12px; padding: 12px; margin: 12px 0;
  font-size: 12px; line-height: 1.5;
}
.video-info b { color: var(--tg-theme-link-color, #6366f1); }

.hidden { display: none; }
</style>
</head>
<body>

<h2>üçé Anor AI</h2>
<p class="subtitle">Rasm va Video AI</p>

<!-- TABS -->
<div class="tabs">
  <button class="tab active" onclick="showTab('tariffs')">‚≠ê Tariflar</button>
  <button class="tab" onclick="showTab('tokens')">üé´ Token</button>
</div>

<!-- TARIFLAR -->
<div id="tariffs-section">
  <div class="card" data-pkg="standard" onclick="selectPkg(this)">
    <div class="card-top">
      <span class="card-name">‚≠ê Standart <span class="badge badge-pop">MASHHUR</span></span>
      <span class="card-price">39 000 so'm</span>
    </div>
    <div class="card-desc">
      üí∞ 500 token/oy | üé® 30 rasm/kun | üé¨ 5 video/kun<br>
      üì∫ 2K sifat | 5 ta rasm model + 7 ta video model
    </div>
    <div class="video-info">
      <b>üé¨ Video:</b> Kling 1.6, 2.1 | Seedance Lite, Fast, Pro | Veo 3.1 Fast
    </div>
  </div>

  <div class="card" data-pkg="premium" onclick="selectPkg(this)">
    <div class="card-top">
      <span class="card-name">üíé Premium <span class="badge badge-save">TEJAMKOR</span></span>
      <span class="card-price">99 000 so'm</span>
    </div>
    <div class="card-desc">
      üí∞ 2000 token/oy | üé® 100 rasm/kun | üé¨ 20 video/kun<br>
      üì∫ 4K sifat | 5 ta rasm model + 10 ta video model
    </div>
    <div class="video-info">
      <b>üé¨ Video:</b> BARCHA modellar!<br>
      Kling, Seedance, Veo 3.1, Veo 3.1 Fast, Sora 2, Sora 2 Pro
    </div>
  </div>
</div>

<!-- TOKEN PAKETLAR -->
<div id="tokens-section" class="hidden">
  <div class="card" data-pkg="tokens_100" onclick="selectPkg(this)">
    <div class="card-top">
      <span class="card-name">üé´ 100 token</span>
      <span class="card-price">9 000 so'm</span>
    </div>
    <div class="card-desc">~10-12 rasm yoki 1-2 video</div>
  </div>

  <div class="card" data-pkg="tokens_300" onclick="selectPkg(this)">
    <div class="card-top">
      <span class="card-name">üé´ 300 token <span class="badge badge-save">-7%</span></span>
      <span class="card-price">25 000 so'm</span>
    </div>
    <div class="card-desc">~30-37 rasm yoki 3-5 video</div>
  </div>

  <div class="card" data-pkg="tokens_1000" onclick="selectPkg(this)">
    <div class="card-top">
      <span class="card-name">üé´ 1000 token <span class="badge badge-save">-23%</span></span>
      <span class="card-price">69 000 so'm</span>
    </div>
    <div class="card-desc">~100-125 rasm yoki 10-15 video</div>
  </div>
</div>

<!-- TO'LOV USULI -->
<div class="method-section">
  <div class="method-label">üí≥ To'lov usuli:</div>
  <div class="methods">
    <button class="method-btn active" data-method="card" onclick="selectMethod(this)">üí≥ Karta</button>
    <button class="method-btn" data-method="click" onclick="selectMethod(this)">Click</button>
    <button class="method-btn" data-method="payme" onclick="selectMethod(this)">Payme</button>
  </div>
</div>

<!-- KARTA MA'LUMOTLARI -->
<div class="card-info" id="card-details">
  <div style="font-size:12px; margin-bottom:6px;">üìã Karta raqami:</div>
  <div class="card-number" onclick="copyCard()">8600 0000 0000 0000</div>
  <div class="card-owner">ANOR AI</div>
  <div class="copy-hint" id="copy-hint">üëÜ Bosib nusxa oling</div>
</div>

<!-- TO'LOV TUGMASI -->
<button class="pay-btn" id="pay-btn" disabled onclick="confirmPayment()">
  Avval paket tanlang
</button>
<div class="note">‚ö†Ô∏è To'lagandan so'ng "‚úÖ To'ladim" bosing. Admin 5-30 daqiqada tasdiqlaydi.</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();
tg.ready();

let selectedPkg = null;
let selectedMethod = 'card';

const PRICES = {
  standard: '39 000', premium: '99 000',
  tokens_100: '9 000', tokens_300: '25 000', tokens_1000: '69 000'
};
const NAMES = {
  standard: '‚≠ê Standart', premium: 'üíé Premium',
  tokens_100: 'üé´ 100 token', tokens_300: 'üé´ 300 token', tokens_1000: 'üé´ 1000 token'
};

function showTab(tab) {
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('tariffs-section').classList.toggle('hidden', tab !== 'tariffs');
  document.getElementById('tokens-section').classList.toggle('hidden', tab !== 'tokens');
  selectedPkg = null;
  document.querySelectorAll('.card').forEach(c => c.classList.remove('selected'));
  updateBtn();
}

function selectPkg(el) {
  document.querySelectorAll('.card').forEach(c => c.classList.remove('selected'));
  el.classList.add('selected');
  selectedPkg = el.dataset.pkg;
  updateBtn();
}

function selectMethod(el) {
  document.querySelectorAll('.method-btn').forEach(b => b.classList.remove('active'));
  el.classList.add('active');
  selectedMethod = el.dataset.method;
}

function updateBtn() {
  const btn = document.getElementById('pay-btn');
  if (selectedPkg) {
    btn.disabled = false;
    btn.textContent = `‚úÖ To'ladim ‚Äî ${PRICES[selectedPkg]} so'm`;
  } else {
    btn.disabled = true;
    btn.textContent = 'Avval paket tanlang';
  }
}

function copyCard() {
  const num = document.querySelector('.card-number').textContent.replace(/\s/g, '');
  navigator.clipboard.writeText(num).then(() => {
    document.getElementById('copy-hint').textContent = '‚úÖ Nusxalandi!';
    setTimeout(() => {
      document.getElementById('copy-hint').textContent = 'üëÜ Bosib nusxa oling';
    }, 2000);
  }).catch(() => {});
}

function confirmPayment() {
  if (!selectedPkg) return;
  const data = JSON.stringify({
    action: "payment",
    package: selectedPkg,
    method: selectedMethod,
    name: NAMES[selectedPkg],
    price: PRICES[selectedPkg]
  });
  tg.sendData(data);
}
</script>
</body>
</html>
